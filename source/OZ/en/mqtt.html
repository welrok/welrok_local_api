<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>MQTT &#8212; Welrok 1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=27fed22d" />
    <script src="../../_static/documentation_options.js?v=29a6c3e3"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="mqtt">
<h1><strong>MQTT</strong><a class="headerlink" href="#mqtt" title="Link to this heading">Â¶</a></h1>
<p>The ability to collect telemetry and control key parameters via MQTT protocol is available.
MQTT server connection settings are only accessible through the device web interface available at its local IP address:</p>
<p><code class="docutils literal notranslate"><span class="pre">Host</span></code>/<code class="docutils literal notranslate"><span class="pre">Port</span></code> - MQTT server IP address and port</p>
<p><code class="docutils literal notranslate"><span class="pre">User</span></code>/<code class="docutils literal notranslate"><span class="pre">Password</span></code> - username and password for MQTT server connection</p>
<p><code class="docutils literal notranslate"><span class="pre">Keep</span> <span class="pre">alive</span></code> - maximum allowed time interval without data exchange</p>
<p><code class="docutils literal notranslate"><span class="pre">QoS</span></code> - quality of service level</p>
<p><code class="docutils literal notranslate"><span class="pre">Publish</span> <span class="pre">prefix</span></code> - publication prefix for sending telemetry</p>
<p><code class="docutils literal notranslate"><span class="pre">Subscribe</span> <span class="pre">path</span></code> - subscription path name for commands</p>
<p><code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code> - device name</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If MQTT server authorization is not configured, the <code class="docutils literal notranslate"><span class="pre">User</span></code>/<code class="docutils literal notranslate"><span class="pre">Password</span></code> fields are ignored.</p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Maximum length for <code class="docutils literal notranslate"><span class="pre">User</span></code> and <code class="docutils literal notranslate"><span class="pre">Password</span></code> is 30 characters.</p>
</div>
<p class="rubric"><strong>PUBLISHED TOPICS</strong></p>
<p>Once per minute, with +/- 5 seconds interval, data is published to the following topics:</p>
<p><code class="docutils literal notranslate"><span class="pre">Publish</span> <span class="pre">prefix</span></code>/<code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code>/<code class="docutils literal notranslate"><span class="pre">get</span></code>/<code class="docutils literal notranslate"><span class="pre">floorTemp</span></code> - floor temperature sensor readings, returns value similar to <a class="reference external" href="telemetry.html">telemetry</a> requested via API for parameter <strong>â€œt.1â€</strong> in Â°C as â€œxx.xâ€ string</p>
<p><code class="docutils literal notranslate"><span class="pre">Publish</span> <span class="pre">prefix</span></code>/<code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code>/<code class="docutils literal notranslate"><span class="pre">get</span></code>/<code class="docutils literal notranslate"><span class="pre">airTemp</span></code> - air temperature sensor readings, returns value similar to <a class="reference external" href="telemetry.html">telemetry</a> requested via API for parameter <strong>â€œt.2â€</strong> in Â°C as â€œxx.xâ€ string</p>
<p><code class="docutils literal notranslate"><span class="pre">Publish</span> <span class="pre">prefix</span></code>/<code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code>/<code class="docutils literal notranslate"><span class="pre">get</span></code>/<code class="docutils literal notranslate"><span class="pre">protTemp</span></code> - internal overheating sensor readings, returns value similar to <a class="reference external" href="telemetry.html">telemetry</a> requested via API for parameter <strong>â€œt.0â€</strong>. Returns in Â°C as â€œxx.xâ€ string</p>
<p><code class="docutils literal notranslate"><span class="pre">Publish</span> <span class="pre">prefix</span></code>/<code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code>/<code class="docutils literal notranslate"><span class="pre">get</span></code>/<code class="docutils literal notranslate"><span class="pre">setTemp</span></code> - setpoint temperature, returns value similar to <a class="reference external" href="telemetry.html">telemetry</a> requested via API for parameter <strong>â€œt.5â€</strong>. Returns in Â°C as â€œxx.xâ€ string</p>
<p><code class="docutils literal notranslate"><span class="pre">Publish</span> <span class="pre">prefix</span></code>/<code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code>/<code class="docutils literal notranslate"><span class="pre">get</span></code>/<code class="docutils literal notranslate"><span class="pre">powerOff</span></code> - device power off status, returns value similar to <a class="reference external" href="telemetry.html">telemetry</a> requested via API for parameter <strong>â€œf.16â€</strong>. Returns as string where â€œ0â€ - enabled, â€œ1â€ - disabled</p>
<p><code class="docutils literal notranslate"><span class="pre">Publish</span> <span class="pre">prefix</span></code>/<code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code>/<code class="docutils literal notranslate"><span class="pre">get</span></code>/<code class="docutils literal notranslate"><span class="pre">load</span></code> - load status, returns value similar to <a class="reference external" href="telemetry.html">telemetry</a> requested via API for parameter <strong>â€œf.0â€</strong>. Returns as string where â€œ0â€ - disabled, â€œ1â€ - enabled</p>
<p><code class="docutils literal notranslate"><span class="pre">Publish</span> <span class="pre">prefix</span></code>/<code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code>/<code class="docutils literal notranslate"><span class="pre">get</span></code>/<code class="docutils literal notranslate"><span class="pre">typeCtrl</span></code> - control type, returns value similar to <a class="reference external" href="telemetry.html">telemetry</a> requested via API for parameter <strong>â€œm.0â€</strong>. Returns as string where 0-by floor, 1-by air, 2-by air with floor limit</p>
<p><code class="docutils literal notranslate"><span class="pre">Publish</span> <span class="pre">prefix</span></code>/<code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code>/<code class="docutils literal notranslate"><span class="pre">get</span></code>/<code class="docutils literal notranslate"><span class="pre">maxFlrTmp</span></code> - maximum allowed floor temperature for â€œby air with floor limitâ€ control mode, executed similarly to API command in <a class="reference external" href="parameters.html">parameters</a>. <code class="docutils literal notranslate"><span class="pre">{&quot;cmd&quot;:1}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">Publish</span> <span class="pre">prefix</span></code>/<code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code>/<code class="docutils literal notranslate"><span class="pre">get</span></code>/<code class="docutils literal notranslate"><span class="pre">minFlrTmp</span></code> - minimum allowed floor temperature for â€œby air with floor limitâ€ control mode, executed similarly to API command in <a class="reference external" href="parameters.html">parameters</a>. <code class="docutils literal notranslate"><span class="pre">{&quot;cmd&quot;:1}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">Publish</span> <span class="pre">prefix</span></code>/<code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code>/<code class="docutils literal notranslate"><span class="pre">get</span></code>/<code class="docutils literal notranslate"><span class="pre">bright</span></code> - current thermostat display brightness, read similarly to <a class="reference external" href="parameters.html">parameters</a> requested via API with <code class="docutils literal notranslate"><span class="pre">{&quot;cmd&quot;:1}</span></code> command. Returns as string with values from 0 to 10.</p>
<p><code class="docutils literal notranslate"><span class="pre">Publish</span> <span class="pre">prefix</span></code>/<code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code>/<code class="docutils literal notranslate"><span class="pre">get</span></code>/<code class="docutils literal notranslate"><span class="pre">parameters</span></code> - parameters request, executed similarly to API command in <a class="reference external" href="parameters.html">parameters</a>. <code class="docutils literal notranslate"><span class="pre">{&quot;cmd&quot;:1}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">Publish</span> <span class="pre">prefix</span></code>/<code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code>/<code class="docutils literal notranslate"><span class="pre">get</span></code>/<code class="docutils literal notranslate"><span class="pre">schedule</span></code> - schedule request, executed similarly to API command in <a class="reference external" href="parameters.html">parameters</a>. <code class="docutils literal notranslate"><span class="pre">{&quot;cmd&quot;:2}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">Publish</span> <span class="pre">prefix</span></code>/<code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code>/<code class="docutils literal notranslate"><span class="pre">get</span></code>/<code class="docutils literal notranslate"><span class="pre">api</span></code> - response to set/api command sending</p>
<p class="rubric"><strong>CONTROL TOPICS</strong></p>
<p>The following topics are available for control:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>After sending a control command, an out-of-turn data publication occurs after 3-5 seconds.</p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Subscribe</span> <span class="pre">path</span></code>/<code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code>/<code class="docutils literal notranslate"><span class="pre">set</span></code>/<code class="docutils literal notranslate"><span class="pre">setTemp</span></code> - setpoint temperature setting. Passed as string in â€œxx.xâ€ format.</p>
<p><code class="docutils literal notranslate"><span class="pre">Subscribe</span> <span class="pre">path</span></code>/<code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code>/<code class="docutils literal notranslate"><span class="pre">set</span></code>/<code class="docutils literal notranslate"><span class="pre">bright</span></code> - display brightness. Passed as string in â€œxâ€ format. Values from 0 to 10.</p>
<p><code class="docutils literal notranslate"><span class="pre">Subscribe</span> <span class="pre">path</span></code>/<code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code>/<code class="docutils literal notranslate"><span class="pre">set</span></code>/<code class="docutils literal notranslate"><span class="pre">powerOff</span></code> - device power off. Passed as string in â€œxâ€ format. Values 0 or 1, where 0 - enabled, 1 - disabled.</p>
<p><code class="docutils literal notranslate"><span class="pre">Subscribe</span> <span class="pre">path</span></code>/<code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code>/<code class="docutils literal notranslate"><span class="pre">set</span></code>/<code class="docutils literal notranslate"><span class="pre">mode</span></code> - operation mode selection. Passed as string in â€œxâ€ format. Values 0 or 1, where 0 - schedule, 3 - manual.</p>
<p><code class="docutils literal notranslate"><span class="pre">Subscribe</span> <span class="pre">path</span></code>/<code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code>/<code class="docutils literal notranslate"><span class="pre">set</span></code>/<code class="docutils literal notranslate"><span class="pre">typeCtrl</span></code> - control type: 0-by floor, 1-by air, 2-by air with floor limit, similar to <a class="reference external" href="parameters.html">parameter</a> <code class="docutils literal notranslate"><span class="pre">controlType</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">Publish</span> <span class="pre">prefix</span></code>/<code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code>/<code class="docutils literal notranslate"><span class="pre">set</span></code>/<code class="docutils literal notranslate"><span class="pre">maxFlrTmp</span></code> - maximum allowed floor temperature for â€œby air with floor limitâ€ control mode. Passed as string in â€œxx.xâ€ format.</p>
<p><code class="docutils literal notranslate"><span class="pre">Publish</span> <span class="pre">prefix</span></code>/<code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code>/<code class="docutils literal notranslate"><span class="pre">set</span></code>/<code class="docutils literal notranslate"><span class="pre">minFlrTmp</span></code> - minimum allowed floor temperature for â€œby air with floor limitâ€ control mode. Passed as string in â€œxx.xâ€ format.</p>
<p><code class="docutils literal notranslate"><span class="pre">Subscribe</span> <span class="pre">path</span></code>/<code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code>/<code class="docutils literal notranslate"><span class="pre">set</span></code>/<code class="docutils literal notranslate"><span class="pre">schedule</span></code> - schedule setting (set for 1 day). Command transmission is performed similarly to API command in <a class="reference external" href="schedule.html">schedule</a> by sending JSON containing device sn, week number and two-dimensional array with periods and temperatures.</p>
<p><code class="docutils literal notranslate"><span class="pre">Subscribe</span> <span class="pre">path</span></code>/<code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code>/<code class="docutils literal notranslate"><span class="pre">set</span></code>/<code class="docutils literal notranslate"><span class="pre">parameters</span></code> - parameters setting. Command transmission is performed similarly to API command in <a class="reference external" href="parameters.html">parameters</a> by sending JSON containing device sn and two-dimensional array with required parameters, their type and value.</p>
<p><code class="docutils literal notranslate"><span class="pre">Subscribe</span> <span class="pre">path</span></code>/<code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code>/<code class="docutils literal notranslate"><span class="pre">set</span></code>/<code class="docutils literal notranslate"><span class="pre">api</span></code> - duplicates webApi functionality, allowing to send commands in API format.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p><code class="docutils literal notranslate"><span class="pre">setTemp</span></code> is set based on selected control type. If â€œby floorâ€ is selected, it will be set for floor. If â€œby airâ€ or â€œby air with floor limitâ€ is selected, it will be set for air.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Floor temperature sensor in device user menu and via MQTT changes with 1 Â°C step throughout the entire operating range. Air temperature sensor in device user menu changes with 1 Â°C step in range from -15 Â°C to -10 Â°C, with 0.5 Â°C step in range from -10 Â°C to 75 Â°C. Air temperature sensor when controlled via API changes with 0.1 Â°C step throughout the entire operating range.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Parameters 29 and 31, in schedule operation mode and temporary mode, can take values 127 and -127, which correspond to <strong>on</strong> (load always enabled) and <strong>off</strong> (load always disabled) setpoint values in graphical interface and on device display.</p>
</div>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper"><!-- Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ñ‹Ğµ ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ñ‹ -->
<h1 class="logo"><a href="../../index.html">Welrok</a></h1>



<p class="blurb">Local API Documentation v1.0</p>







<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>

<div class="navigation-section"><h4><a href="javascript:history.back()" style="color: #666; text-decoration: none;">â—€ï¸ ĞĞ°Ğ·Ğ°Ğ´</a></h4><h4>
        <a href="index.html" style="color: inherit; text-decoration: none;">
            ğŸ“š ĞĞ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ
        </a>
    </h4></div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, Welrok.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../../_sources/OZ/en/mqtt.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>