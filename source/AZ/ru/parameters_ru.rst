Список параметров
~~~~~~~~~~~~~~~~~

Для получения набора всех доступных параметров конкретного устройства отправьте запрос ``{"cmd":1}``. Например, ответ для терморегулятора az:



.. code-block:: json

   {
      "sn":"404CCAAAD4E8A89860609800000149",
      "par":[[0,6,"536112000"],[1,6,"536112000"],
            [2,2,"1"],[3,2,"0"],[5,1,"30"],
            [7,1,"5"],[17,4,"175"],[18,2,"2"],
            [19,2,"10"],[21,1,"0"],[23,2,"6"],
            [25,2,"15"],[26,1,"45"],[27,1,"5"],
            [28,2,"16"],[29,1,"0"],[31,1,"8"],
            [52,4,"0"],[53,4,"480"],[55,2,"24"],
            [109,7,"0"],[114,7,"1"],[115,7,"0"],
            [117,7,"0"],[118,7,"0"],[120,7,"0"],
            [121,7,"0"],[124,7,"0"],[125,7,"0"]]
   }

``sn`` - серийный номер устройства

``par`` - ключ обмена параметрами

Формат передачи - массив массивов. Первое число - номер параметра, второе - его тип, третья - строка со значением параметра.

Например, включить устройство и установить температуру пола в ручном режиме 27 °C: 

.. code-block:: json

   {
      "sn":"404CCAAAD4E8A89860609800000149",
      "par":[[125,7,"0"],[5,1,"27"]]
   }

Ответ:
В ответ мы получаем обновленный лист всех параметров:

.. code-block:: json

   {
      "sn":"404CCAAAD4E8A89860609800000149",
      "par":[[0,6,"536112000"],[1,6,"536112000"],
            [2,2,"1"],[3,2,"0"],[5,1,"27"],
            [7,1,"5"],[17,4,"175"],[18,2,"2"],
            [19,2,"10"],[21,1,"0"],[23,2,"6"],
            [25,2,"15"],[26,1,"45"],[27,1,"5"],
            [28,2,"16"],[29,1,"0"],[31,1,"8"],
            [52,4,"0"],[53,4,"480"],[55,2,"24"],
            [80,1,"0"],[81,1,"0"],[82,1,"0"],
            [109,7,"0"],[114,7,"1"],[115,7,"0"],
            [117,7,"0"],[118,7,"0"],[120,7,"0"],
            [121,7,"0"],[124,7,"0"],[125,7,"0"]]
   }

.. note::
   Температура датчика пола в пользльзовательском меню и через API изменяется с шагом в 1 °C во всем рабочем диапазоне. 

.. important::
   При изменении параметров устройства команда обязательно должна содержать ключ ``sn``

.. table:: **Типы данных**
   :widths: auto   

   =====   =====
   Номер    Тип
   =====   =====
   0       CStringType
   1       int8
   2        uint8
   3        int16
   4        uint16
   5         int32
   6        uint32
   7        bool
   =====   =====




.. table:: **Список параметров**
   :widths: auto
   
   ======   =============  =======================    =========================================================================================================================
   Num      Type           Name                       Description
   ======   =============  =======================    =========================================================================================================================
   0        6(uint32)      startAwayTime              в секундах от 01.01.2000, время начала отъезда
   1        6(uint32)      endAwayTime                в секундах от 01.01.2000, время конца отъезда
   2        2(uint8)       mode                       режим работы: расписание=0, ручной=3
   3        2(uint8)       controlType                режим контроля: по полу=0
   5        1(int8)        manualFloorTemperature     в °C, уставка ручного режима по полу
   7        1(int8)        awayFloorTemperature       в °C, уставка режима отъезда по полу
   17       4(uint16)      power                      в у.е., Если мощность «Р» меньше или равна 150, то P=power*10. Если мощность «Р» больше 150, то P=power*20-1500. В результате получаем указанную подключенную мощность в Ваттах. 
   18       2(uint8)       sensorType                 тип подключенного аналогового датчика температуры: 4,7кОм=0, 6,8кОм=1, 10кОм=2, 12кОм=3, 15кОм=4, 33кОм=5, 47кОм=6
   19       2(uint8)       histeresis                 в °C*10, гистерезис
   21       1(int8)        floorCorrection            в °C*10, поправка датчика пола
   23       2(uint8)       brightness                 в у.е. (от 0 до 10) яркость
   25       2(uint8)       propKoef                   в минутах включенной нагрузки в пределах 30 минутного цикла работы пропорционального режима
   26       1(int8)        upperLimit                 в °C, максимальное значение уставки пола
   27       1(int8)        lowerLimit                 в °C, минимальное значение уставки пола
   28       2(uint8)       maxSchedulePeriod          максимальное число периодов расписания в сутки. Параметр «Read Only»
   29       1(int8)        tempTemperature            в °C, температура временного режима
   31       1(int8)        setTemperature	      в °C, температура уставки текущего режима (awayFloorTemperature | manualFloorTemperature | tempTemperature)
   52       4(uint16)      nightBrightStart           в минутах от 00:00, время начала ночного снижения яркости
   53       4(uint16)      nightBrightEnd             в минутах от 00:00, время конца ночного снижения яркости
   55       2(uint8)       relayOnTimeLimit           в часах, время непрерывного нагрева для аварийного оповещения (Read-only)
   109      7(bool)        offButtonLock              отключени автоматической блокировки сенсорных кнопок(Read-only)	
   114      7(bool)        lanBlock                   блокировка любых изменений настроек через Api: 0 - выключено 1 - включено
   115      7(bool)        cloudBlock                 блокировка любых изменений настроек и перепрошивки через облако: 0 - выключено 1 - включено
   117      7(bool)        NCContactControl           инвертированное реле: 0 - выключено 1 - включено
   118      7(bool)        coolingControlWay          режим нагрев = 0; охлаждение = 1
   120      7(bool)        useNightBright  	      использование ночной яркости: 0 - выключено 1 - включено
   121      7(bool)        preControl                 предварительный нагрев: 0 - выключено 1 - включено
   124      7(bool)        childrenLock               защита от детей: 0 - выключено 1 - включено
   125      7(bool)        powerOff                   устройство выключено: 0 - включено 1 - выключено
   ======   =============  =======================    =========================================================================================================================



.. note::
   Уставки всех режимов должны вписываться в лимиты параметров 26 и 27
