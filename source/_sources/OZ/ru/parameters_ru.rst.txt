Список параметров
~~~~~~~~~~~~~~~~~

Для получения набора всех доступных параметров конкретного устройства отправьте запрос ``{"cmd":1}``. Например, ответ для терморегулятора oz:

.. code-block:: json

   {
      "sn":"404CCAAAD4E8A89860609800000149",
      "par":[[64,6,"0"],[65,3,"300"],[23,2,"10"],
            [114,7,"0"],[115,7,"0"],[29,3,"0"],
            [66,6,"0"],[67,6,"0"],[0,6,"0"],[1,6,"0"],
            [2,2,"1"],[31,3,"230"],[3,2,"2"],[19,2,"10"],
            [18,2,"2"],[21,1,"0"],[5,3,"300"],[7,3,"50"],
            [109,7,"1"],[80,1,"0"],[81,1,"0"],[82,1,"0"],
            [25,2,"15"],[26,1,"45"],[27,1,"5"],[33,1,"35"],
            [34,1,"5"],[28,2,"16"],[17,4,"0"],[52,4,"0"],
            [53,4,"480"],[62,1,"35"],[63,1,"5"],[55,2,"24"],
            [20,1,"0"],[4,3,"230"],[6,3,"180"],[14,1,"0"],
            [15,1,"45"],[122,7,"0"],[35,2,"1"],[36,7,"1"],
            [117,7,"0"],[118,7,"0"],[121,7,"0"],[124,7,"0"],
            [125,7,"0"],[120,7,"0"]]
   }

``sn`` - серийный номер устройства

``par`` - ключ обмена параметрами

Формат передачи - массив массивов. Первое число - номер параметра, второе - его тип, третья - строка со значением параметра.

Например, включить устройство и установить температуру пола в ручном режиме 27 °C: 

.. code-block:: json

   {
      "sn":"404CCAAAD4E8A89860609800000149",
      "par":[[125,7,"0"],[5,1,"270"]]
   }

Ответ:
В ответ мы получаем обновленный лист всех параметров:

.. code-block:: json

   {
      "sn":"404CCAAAD4E8A89860609800000149",
      "par":[[64,6,"0"],[65,3,"300"],[23,2,"10"],
            [114,7,"0"],[115,7,"0"],[29,3,"0"],
            [66,6,"0"],[67,6,"0"],[0,6,"0"],[1,6,"0"],
            [2,2,"1"],[31,3,"230"],[3,2,"2"],[19,2,"10"],
            [18,2,"2"],[21,1,"0"],[5,3,"270"],[7,3,"50"],
            [109,7,"1"],[80,1,"0"],[81,1,"0"],[82,1,"0"],
            [25,2,"15"],[26,1,"45"],[27,1,"5"],[33,1,"35"],
            [34,1,"5"],[28,2,"16"],[17,4,"0"],[52,4,"0"],
            [53,4,"480"],[62,1,"35"],[63,1,"5"],[55,2,"24"],
            [20,1,"0"],[4,3,"230"],[6,3,"180"],[14,1,"0"],
            [15,1,"45"],[122,7,"0"],[35,2,"1"],[36,7,"1"],
            [117,7,"0"],[118,7,"0"],[121,7,"0"],[124,7,"0"],
            [125,7,"0"],[120,7,"0"]]
   }

.. note::
   Температура датчика пола в пользовательском меню устройства и через API изменяется с шагом в 1 °C во всем рабочем диапазоне. Температура датчика воздуха в пользовательском меню устройства изменяется с шагом 1 °C в диапазоне от -15 °C до -10 °C, с шагом 0.5 °C в диапазоне от -10 °C до 75 °C. Температура датчика воздуха при управлении через API изменяется с шагом 0.1 °C во всем рабочем диапазоне.

.. important::
   При изменении параметров устройства команда обязательно должна содержать ключ ``sn``

.. table:: **Типы данных**
   :widths: auto   

   =====   =====
   Номер    Тип
   =====   =====
   0       CStringType
   1       int8
   2        uint8
   3        int16
   4        uint16
   5         int32
   6        uint32
   7        bool
   =====   =====




.. table:: **Список параметров**
   :widths: auto

   ======   ===========  =======================    ============
   Num      Type         Name                       Description
   ======   ===========  =======================    ============
   0        6(uint32)    startAwayTime              в секундах от 01.01.2000, время начала отъезда
   1        6(uint32)    endAwayTime                в секундах от 01.01.2000, время конца отъезда
   2        2(uint8)     mode                       режим работы: расписание=0, ручной=3
   3        2(uint8)     controlType                режим контроля: по полу=0, по воздуху=1, по воздуху с ограничением по полу=2
   4        3(int16)     manualAir                  в °C*10, уставка ручного режима по воздуху (для устройств с датчиком воздуха)
   5        3(int16)     manualFloorTemperature     в °C*10, уставка ручного режима по полу
   6        3(int16)     awayAirTemperature         в °C*10, уставка режима отъезда по воздуху
   7        3(int16)     awayFloorTemperature       в °C*10, уставка режима отъезда по полу
   14       1(int8)      minTempAdvancedMode        в °C, ограничение минимальной температуры пола в режиме по воздуху с ограничением по полу
   15       1(int8)      maxTempAdvancedMode        в °C, ограничение максимальной температуры пола в режиме по воздуху с ограничением по полу
   17       4(uint16)    power                       в у.е., Если мощность «Р» меньше или равна 150, то P=power*10. Если мощность «Р» больше 150, то P=power*20-1500. В результате получаем указанную подключенную мощность в Ваттах.
   18       2(uint8)     sensorType                 тип подключенного аналогового датчика температуры: 4,7кОм=0, 6,8кОм=1, 10кОм=2, 12кОм=3, 15кОм=4, 33кОм=5, 47кОм=6
   19       2(uint8)     histeresis                 в °C*10, гистерезис
   20       1(int8)      airCorrection              в °C*10, поправка датчика воздуха
   21       1(int8)      floorCorrection            в °C*10, поправка датчика пола
   23       2(uint8)     brightness                 в у.е. от 0 до 10 яркость
   25       2(uint8)     propKoef                   в минутах включенной нагрузки в пределах 30 минутного цикла работы пропорционального режима
   26       1(int8)      upperLimit                 в °C, максимальное значение уставки пола
   27       1(int8)      lowerLimit                 в °C, минимальное значение уставки пола
   28       2(uint8)     maxSchedulePeriod          максимальное число периодов расписания в сутки. Параметр (Read Only)
   29       3(int16)     tempTemperature            в °C*10, температура временного режима
   31       3(int16)      setTemperature            в °C*10, температура уставки текущего режима (awayFloorTemperature | manualFloorTemperature | tempTemperature)
   33       1(int8)      upperAirLimit              в °C, максимальное значение уставки воздуха
   34       1(int8)      lowerAirLimit              в °C, минимальное значение уставки воздуха
   35       2(uint8)     bleSensorInterval          в минутах, частота опроса датчика воздуха (1-60)
   36       7(bool)      bleSensorsBind             подключен беспроводной датчик воздуха (Read-only): 0 - не подключен 1 - подключен
   52       4(uint16)    nightBrightStart           в минутах от 00:00, время начала ночного снижения яркости
   53       4(uint16)    nightBrightEnd             в минутах от 00:00, время конца ночного снижения яркости
   55       2(uint8)     relayOnTimeLimit           в часах, время непрерывного нагрева для аварийного оповещения (Read-only)
   62       1(int8)      upperWarningTemp           в °C, верхний порог температуры для аварийного оповещения
   63       1(int8)      lowerWarningTemp           в °C, нижний порог температуры для аварийного оповещения
   64       6(uint32)    timerPeriod                в секундах от 01.01.2000 00:00, время окончание работы таймера ( в UTC)
   65       3(int16)     timerTemperature           в °C*10, уставка температуры режима таймера
   66       6(uint32)    startAwayTimeUTC           в секундах от 01.01.2000 00:00, время начала отъезда (в UTC)
   67       6(uint32)    endAwayTimeUTC             в секундах от 01.01.2000 00:00, время конца отъезда (в UTC)
   109      7(bool)      offButtonLock              отключение автоматической блокировки сенсорных кнопок(Read-only): 0 - блокировка работает, 1 - блокировка отключена.
   114      7(bool)      lanBlock                   блокировка любых изменений настроек через Api: 0 - выключено 1 - включено
   115      7(bool)      cloudBlock                 блокировка любых изменений настроек и перепрошивки через облако: 0 - выключено 1 - включено
   117      7(bool)      NCContactControl           инвертированное реле: 0 - выключено 1 - включено
   118      7(bool)      coolingControlWay          режим нагрев = 0; охлаждения = 1
   120      7(bool)      useNightBright             использование ночной яркости: 0 - выключено 1 - включено
   121      7(bool)      preControl                 предварительный нагрев: 0 - выключено 1 - включено
   122      7(bool)      windowOpenControl          режим открытого окна: 0 - выключено 1 - включено
   124      7(bool)      childrenLock               защита от детей: 0 - выключено 1 - включено
   125      7(bool)      powerOff                   устройство выключено: 0 - включено 1 - выключено
   ======   ===========  =======================    ============

.. note::
   Параметры 29 и 31, в режиме работы по расписанию и временном режиме, могут принимать значения 127 и -127, что соответствует значениям уставки **on** (нагрузка всегда включена) и **off** (нагрузка всегда отключена) в графическом интерфейсе и на дисплее устройства.

.. note::
   Уставки всех режимов должны вписываться в лимиты параметров 26 и 27 при работе по полу и 33 и 34 при работе по воздуху


