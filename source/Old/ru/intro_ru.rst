Введение
~~~~~~~~~~~

Для устройств Wi-Fi доступна опция прямого управления через локальную сеть. Обмен информацией осуществляется посредством POST запросов на http://``dev_ip``/api.cgi, где ``dev_ip`` - ip адрес устройства в локальной сети. Для обнаружения новых устройств в локальной сети используются `широковещательные <broadcast_ru.html>`_ пакеты. Данные представлены в формате JSON. 

.. Important::
   Возможность управления по локальной сети без токена безопасности по умолчанию `заблокирована <safety_ru.html>`_ в целях безопасности. Это может быть актуальным, например, при использовании локального управления в общественных местах. Если данная мера безопасности не нужна, отключите ее на устройстве, переведя параметр ``bLc`` в значение **oFF**. В противном случае запросы на изменение без данного токена не будут выполняться.


Доступны следующие ключи JSON:

``sn`` - серийный номер устройства, обязателен при передаче новых параметров.

``cmd`` - `отправка команды <commands_ru.html>`_ для получения данных от устройства (`параметры <parameters_ru.html>`_, `расписание <schedule_ru.html>`_, `телеметрия <telemetry_ru.html>`_)

``par`` - `изменение параметров устройства <parameters_ru.html>`_

``tt`` - `передача расписания <schedule_ru.html>`_

``time``, ``auth`` - `аутентификация <safety_ru.html>`_

.. Important::
   Нельзя в одном запросе передавать расписание и параметры, а также несколько дней расписания.

.. note::
   На устройстве существует страница http:// ``dev_ip`` /api.html, где ``dev_ip`` - ip адрес устройства в локальной сети, на которой можно проверить верность запросов и протестировать протокол обмена.
   Функция управления через API доступна также при работе устройства в режиме работы терморегулятора "точка доступа". Для этого переведите устройство в режим «AP», как указано в инструкции устройства, подключитесь к нему и перейдите по ссылке: http://192.168.0.1/api.html
